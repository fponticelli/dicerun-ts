import { RepeatImpl } from './Repeat';
import { makeRenderable } from '../jsx-runtime';
import { FragmentImpl } from './Fragment';
import { OnRemoveImpl } from './OnRemove';
// <For of={values}>{(value) => <span>{value}</span>}</For>
export function For({ of, children: render }) {
    const times = of.map(v => v.length);
    return new RepeatImpl(times, (index) => {
        const value = of.at(index);
        return new FragmentImpl([
            makeRenderable(render?.(value, index)),
            new OnRemoveImpl(value.clean)
        ]);
    });
}
