import { css } from '@emotion/css';
import { Signal } from '@tempots/dom';
export const objectOfPropertiesToSignalOfObject = (sx) => {
    const keys = Object.keys(sx);
    const values = keys.map(k => sx[k]);
    return keys.reduce((acc, k, i) => {
        const field = values[i];
        if (field == null)
            return acc;
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const value = Signal.wrap(field);
        return acc.combine(value, (a, v) => ({ ...a, [k]: v }));
    }, Signal.of({}));
};
export const sxToSignal = (sx) => {
    if (typeof sx === 'object' && Signal.isSignal(sx)) {
        return sx;
    }
    else {
        sx = Signal.isSignal(sx)
            ? sx.get()
            : sx;
        return objectOfPropertiesToSignalOfObject(sx);
    }
};
export const sxToClassProp = (sx) => {
    return sxToSignal(sx).map(v => css(v));
};
